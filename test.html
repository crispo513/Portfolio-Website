<!DOCTYPE html>
<html>
    <h3>👁️ Views: <span id="counter">Loading...</span></h3>
    <button id="click-btn">Click Me</button>

    <script>
    async function loadCount() {
        const res = await fetch('/api/increment');
        const data = await res.json();
        if (data.count !== undefined) {
        document.getElementById('counter').textContent = data.count;
        }
    }

    async function incrementCount() {
        const res = await fetch('/api/increment', {
        method: 'POST'
        });
        const data = await res.json();
        if (data.count !== undefined) {
        document.getElementById('counter').textContent = data.count;
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('click-btn').addEventListener('click', incrementCount);
        loadCount();
    });
    </script>
</html>
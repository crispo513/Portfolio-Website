<!DOCTYPE html>
<html>
<head>
  <title>My Steam User Info</title>
</head>
<body>
  <h1>Steam User Info</h1>
  <div id="user-info">Test123</div>

  <script>
    fetch("https://portfolio-website-pied-omega.vercel.app/api/steam?steamid=76561198861075110")
      .then(response => response.json())
      .then(data => {
        const player = data.response.players[0];

        function getPersonaState(state) {
          const states = [
            'Offline', 'Online', 'Busy', 'Away',
            'Snooze', 'Looking to Trade', 'Looking to Play'
          ];
          return states[state] || 'Unknown';
        }

        function formatTimestamp(unixTime) {
          const date = new Date(unixTime * 1000);
          return date.toLocaleString();
        }

        // updated player info
        const html = `
          <h1>${player.personaname}<\h1>
          <img src="${[player.avatarfull]}">
          <h2>Currently ${getPersonaState(player.personastate)} since ${formatTimestamp(player.timecreated)}<\h2>
          <strong>Last Online:</strong> ${formatTimestamp(player.lastlogoff)}<br>
          <a href="${player.profileurl}" target="_blank">View Steam Profile</a>
        `;
        
          document.getElementById('user-info').innerHTML = html;
        // display player info
        console.log(data)
      })
      .catch(error => {
        console.error('Fetch failed:', error);
        document.getElementById('user-info').innerHTML = 'Failed to load user info.';
      });
       
  </script>
</body>
</html>
